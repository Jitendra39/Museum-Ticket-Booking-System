<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ticket Template</title>
  <style><%= cssContent %></style>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900&display=swap">
</head>
<body>
 
  <div class="background">
    <img src="/images/blacked-bg.png" alt="Sliding Image" class="slide-up-image">
  </div>

  <div class="container"> 
    <div class="upr-heading">
      <h1>Welcome</h1>
      <p>Your journey into the past starts with this ticket. Download now and unlock a world of knowledge!</p>
    </div>
    <div id="ticket">
        <div class="ticket-right">
        <h1>MUSEUM TICKET</h1>
        <div class="ticket-info">
          <p>NAME OF VISITOR:</p>
          <p class="dashed"><%= data.name %></p>
          <p>TICKET ID:</p>
          <p class="dashed">xxxxxxxxxxxxxxxxxxxxxx</p>
          <p>DATE:</p>
          <p class="dashed"><%= data.date %></p>
          <div class="time">
            <p>TIME</p>
            <div class="time-box">
              <span><%= data.openingTime %></span>
              <span>TO</span>
              <span><%= data.closingTime %></span>
            </div>
            </div>
            </div>
            </div>
            </div>
 
            </div>
            <form action="/generatepdf" method="get">
              <button type="submit">Download as PDF</button>
            </form>
            </body>
            </html>






<!-- <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ticket Template</title>
 
  <link rel="stylesheet" href="/stylesheets/style.css">
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=EB+Garamond:wght@400;700&display=swap">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.2/jspdf.min.js"></script>  
</head>
<body>
  
   <header class="header">
     <a href="#" class="logo">Tickku</a>
     <nav class="navbar">
       <a href="/home">Home</a>
       <a href="/about">About</a>
       <a href="/help">Help</a>
       <a href="/contact">Contact</a>
       <a href="/ticket">Ticket</a>
     </nav>
   </header>

   <div class="background">
     <img src="/images/blacked-bg.png" alt="Sliding Image" class="slide-up-image">
   </div>

   <div class="container"> 
     <div class="upr-heading">
       <h1>Welcome</h1>
       <p>Your journey into the past starts with this ticket. Download now and unlock a world of knowledge!</p>
     </div>
     <div id="ticket">
       <div class="ticket-left">
         <div class="header-t">
           <div class="yellow-box"></div>
           <h1>MUSEUM TICKET</h1>
         </div>
         <div class="ticket-info">
           <p>NAME OF VISITOR:</p>
           <p class="dashed">Example Name</p>
           <p>TICKET ID:</p>
           <p class="dashed">xxxxxxxxxxxxxxxxxxxxxx</p>
           <p>DATE:</p>
           <p class="dashed">DD/MM/YY</p>
           <div class="time">
             <p>TIME:</p>
             <div class="time-box">
               <span>0:00</span>
               <span>TO</span>
               <span>0:00</span>
             </div>
           </div>
         </div>
       </div>

       <div class="divider"></div>

       <div class="ticket-right">
         <h1>MUSEUM TICKET</h1>
         <div class="ticket-info">
           <p>NAME OF VISITOR:</p>
           <p class="dashed">Example Name</p>
           <p>TICKET ID:</p>
           <p class="dashed">xxxxxxxxxxxxxxxxxxxxxx</p>
           <p>DATE:</p>
           <p class="dashed">DD/MM/YY</p>
           <div class="time">
             <p>TIME:</p>
             <div class="time-box">
               <span>0:00</span>
               <span>TO</span>
               <span>0:00</span>
             </div>
           </div>
         </div>
       </div>
     </div>
     <button id="download-btn">Download as PDF</button>
   </div>

   <script>
   document.getElementById('download-btn').addEventListener('click', function () {
  const ticketElement = document.querySelector('#ticket');
  
  html2canvas(ticketElement, {
    scale: 2, // Higher scale for better quality
    useCORS: true,
    scrollX: 0,
    scrollY: 0,
    width: ticketElement.offsetWidth, // Full width
    height: ticketElement.offsetHeight, // Full height
    backgroundColor: null // Ensure no background color issues
  }).then(canvas => {
    const imgData = canvas.toDataURL('image/png');
    
    // Determine orientation based on ticket dimensions
    const width = canvas.width;
    const height = canvas.height;
    const orientation = width > height ? 'landscape' : 'portrait';

    // Create PDF with the correct dimensions
    const pdf = new jsPDF({
      orientation: orientation,
      unit: 'px',
      format: [width, height]
    });

    pdf.addImage(imgData, 'PNG', 0, 0, width, height);

    // Save the PDF
    pdf.save('museum_ticket.pdf');
  }).catch(function (error) {
    console.error("Error capturing ticket: ", error);
  });
});


   </script>
</body>
</html>
 -->

